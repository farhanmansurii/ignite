name = "ignite-proxy"
main = "build/worker/shim.mjs"
compatibility_date = "2024-01-01"

[build]
command = "worker-build --release"

# KV namespace for IP-based rate limiting.
# Create with: wrangler kv:namespace create RATE_LIMIT_KV
# Then replace the placeholder IDs below.
[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "REPLACE_WITH_YOUR_KV_NAMESPACE_ID"
preview_id = "REPLACE_WITH_YOUR_PREVIEW_KV_NAMESPACE_ID"

# Secrets (set via `wrangler secret put`):
#   IGNITE_SECRET       — shared auth key
#   FIREBASE_BASE_URL   — e.g. https://us-central1-your-project.cloudfunctions.net
#   ALLOWED_FUNCTIONS   — comma-separated: createProject,processPayment
